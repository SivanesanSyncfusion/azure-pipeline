# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml
trigger:
  branches:
    include:
      - development
      - hotfix/boldbi*
      - release/boldbi*

pool:
  vmImage: ubuntu-latest

steps:
  - task: Bash@3
    inputs:
      targetType: 'inline'
      script: |
        echo 'Build_SourceBranchName'
        echo $(Build.SourceBranchName)
        echo '$Build_SourceBranch'
        echo $(Build.SourceBranch)
    displayName: 'Branch'  
  - task: Bash@3
    inputs:
      targetType: 'inline'
      script: |
        cd embed-sdk/boldbi-sdk
        npm install
        npm install -g typescript
        tsc -v
        tsc
        npm run build-webpack
        export studio_version="6.3"
        export revisionnumber="2"
        gulp update-version
        pwd

  - task: Npm@1
    inputs:
      command: 'publish'
      workingDir: '~/work/1/s/'
      publishEndpoint: 'npm-development'
  




      
